<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

</head>
<body>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        
    <table id="mytable" class="table table-bordered">
        
    

    </table>
        

    <script>
        var myJson=[['machine_name','machine_id','current','voltage','power_factor','active_power','apparent_power',
        'reactive_power','daily_energy','monthly_energy','yearly_energy','idle_daily','idle_monthly','idle_yearly'], 
        ['Auto Winding Machine','machine001', 0, 0, 0, 0.0, 0.0, 0.0, 0, 0, 0, 0, 0, 0], 
        ['BoilerMachine', 'machine004', 0, 0, 0, 0.0, 0.0, 0.0, 0, 0, 0, 0, 0, 0]];
        
        buildheaders(myJson);
        buildcontents(myJson);
        
        function buildheaders(data){
            var tablehead=document.getElementById("mytable");
            var headers=`
            <tr>
                <td>${data[0][0]}</td>
                <td>${data[0][1]}</td>
                <td>
                    <table>
                        <tr><td>Energy consumed</td>
                        <tr>
                            <td>
                            <table class="table">
                                <tr>
                                    <td>${data[0][2]}</td>
                                    <td>${data[0][3]}</td>
                                    <td>${data[0][4]}</td>
                                </tr>
                            </table>
                            </td>
                        </tr>
                    </table>
                </td>
                <td>${data[0][5]}</td>
                <td>${data[0][6]}</td>
                <td>${data[0][7]}</td>
                <td>${data[0][8]}</td>
                <td>${data[0][9]}</td>
                <td>${data[0][10]}</td>
                <td>
                    <table>
                        <tr><td>IDLE TIME</td>
                        <tr>
                            <td>
                            <table class="table">
                                <tr>
                                    <td>${data[0][11]}</td>
                                    <td>${data[0][12]}</td>
                                    <td>${data[0][13]}</td>
                                </tr>
                            </table>
                            </td>
                        </tr>
                    </table>
                </td>

            </tr>`
        
        tablehead.innerHTML+=headers;
        }
        function buildcontents(data){

            var tablecontents=document.getElementById('mytable');
            for (var i=1;i<data.length;i++){
            var contents=`<tr>
            <td>${data[i][0]}</td>
            <td>${data[i][1]}</td>
            <td>
            <table class="table">
                <tr>
                    <td>${data[i][2]}</td>
                    <td>${data[i][3]}</td>  
                    <td>${data[i][4]}</td>
                </tr>
            </table>
            </td>
            <td>${data[i][5]}</td>
            <td>${data[i][6]}</td>  
            <td>${data[i][7]}</td>
            <td>${data[i][8]}</td>
            <td>${data[i][9]}</td>  
            <td>${data[i][10]}</td>
            <td>
            <table class="table">
                <tr>
                    <td>${data[i][11]}</td>
                    <td>${data[i][12]}</td>  
                    <td>${data[i][13]}</td>
                </tr>
            </table>
            <td>
        </tr>`
        tablecontents.innerHTML+=contents;
        
        
        }
        
    }
    
    // for (var i=1;i<data.length;i++){
            //     var row="";
            //     var rowdata="";
            //     for(var j=0;j<data[0].length;j++){
            //         rowdata +=`<td>${data[i][j]}</td>`
            //     }
            //     row+='<tr>'+rowdata+'</tr>';
            //     tablecontents.innerHTML+=row;
            // }
            
    </script>
</body>
</html>

               
